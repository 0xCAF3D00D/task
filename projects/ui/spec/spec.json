{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"PurchaseController","description":"Purchase API"},{"name":"ProductController","description":"Product API"},{"name":"UpGateWebHookController","description":"UpGate WebHook API"}],"paths":{"/api/webhook/upgate/transaction":{"post":{"tags":["UpGateWebHookController"],"summary":"UpGate transaction postback","operationId":"onWebhook","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonNode"}}},"required":true},"responses":{"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object"}}}},"200":{"description":"OK"}}}},"/api/purchase":{"post":{"tags":["PurchaseController"],"summary":"Create a purchase","operationId":"createPurchase","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PurchaseRequest"}}},"required":true},"responses":{"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object"}}}},"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiDataResponsePurchaseDto"}}}}}}},"/api/purchase/{id}":{"get":{"tags":["PurchaseController"],"summary":"Get purchase by ID","operationId":"getPurchase","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiDataResponsePurchaseDto"}}}}}}},"/api/product":{"get":{"tags":["ProductController"],"summary":"Get product list","operationId":"getProducts","responses":{"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiDataResponseListProductDto"}}}}}}},"/api/product/{id}":{"get":{"tags":["ProductController"],"summary":"Get product by ID","operationId":"getProduct","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiDataResponseProductDto"}}}}}}}},"components":{"schemas":{"JsonNode":{"type":"object"},"PurchaseRequest":{"required":["email","productId","redirectUrl"],"type":"object","properties":{"productId":{"type":"string","description":"Product ID","format":"uuid"},"email":{"type":"string","description":"Customer email"},"redirectUrl":{"type":"string","description":"Redirect URL after the purchase is completed"}}},"ApiDataResponsePurchaseDto":{"required":["data","status"],"type":"object","properties":{"data":{"$ref":"#/components/schemas/PurchaseDto"},"status":{"type":"string","enum":["OK","ERROR"]}},"description":"Successful API response"},"ProductDto":{"required":["currency","description","id","name","price"],"type":"object","properties":{"id":{"type":"string","format":"uuid"},"price":{"type":"number"},"currency":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"}}},"PurchaseDto":{"required":["amount","currency","id","product","status"],"type":"object","properties":{"id":{"type":"string","format":"uuid"},"status":{"type":"string","enum":["CREATED","PENDING","DECLINE","SUCCESS","ERROR"]},"amount":{"type":"number"},"currency":{"type":"string"},"product":{"$ref":"#/components/schemas/ProductDto"},"url":{"type":"string"}}},"ApiDataResponseListProductDto":{"required":["data","status"],"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/ProductDto"}},"status":{"type":"string","enum":["OK","ERROR"]}},"description":"Successful API response"},"ApiDataResponseProductDto":{"required":["data","status"],"type":"object","properties":{"data":{"$ref":"#/components/schemas/ProductDto"},"status":{"type":"string","enum":["OK","ERROR"]}},"description":"Successful API response"}}}}
